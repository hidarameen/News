#!/usr/bin/env python3
"""
Ø³ÙƒØ±ÙŠØ¨Øª ØªØ­Ù„ÙŠÙ„ Ù…Ø´ÙƒÙ„Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ù†Ø§Ø©
ÙŠØ­Ù„Ù„ Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø© ÙˆÙŠÙ‚Ø¯Ù… Ø­Ù„ÙˆÙ„Ø§Ù‹
"""

import re

def analyze_channel_identifier(identifier: str):
    """ØªØ­Ù„ÙŠÙ„ Ù…Ø¹Ø±Ù Ø§Ù„Ù‚Ù†Ø§Ø©"""
    print(f"\nğŸ” ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø±Ù: {identifier}")
    print("-" * 40)
    
    # ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙˆØ¹
    if identifier.startswith('@'):
        print("âœ… Ø§Ù„Ù†ÙˆØ¹: Ù…Ø¹Ø±Ù username")
        username = identifier[1:]
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© username
        if re.match(r'^[a-zA-Z][a-zA-Z0-9_]{4,31}$', username):
            print(f"âœ… Username ØµØ§Ù„Ø­: {username}")
        else:
            print(f"âŒ Username ØºÙŠØ± ØµØ§Ù„Ø­: {username}")
            print("   ğŸ“ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù ÙˆÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 5-32 Ø­Ø±Ù/Ø±Ù‚Ù…/_")
            
    elif identifier.lstrip('-').isdigit():
        print("âœ… Ø§Ù„Ù†ÙˆØ¹: Ù…Ø¹Ø±Ù Ø±Ù‚Ù…ÙŠ (Channel ID)")
        channel_id = int(identifier)
        
        if channel_id < 0:
            print(f"âœ… Ù…Ø¹Ø±Ù Ù‚Ù†Ø§Ø© ØµØ§Ù„Ø­: {channel_id}")
        else:
            print(f"âš ï¸ Ù…Ø¹Ø±Ù ÙŠØ­ØªØ§Ø¬ ØªØ­ÙˆÙŠÙ„: {channel_id}")
            print(f"   Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ù‡ Ø¥Ù„Ù‰: {-100 * abs(channel_id)}")
            
    elif 't.me/' in identifier or 'telegram.me/' in identifier:
        print("âœ… Ø§Ù„Ù†ÙˆØ¹: Ø±Ø§Ø¨Ø· Telegram")
        match = re.search(r't(?:elegram)?\.me/([a-zA-Z0-9_]+)', identifier)
        
        if match:
            username = match.group(1)
            if username.startswith('joinchat'):
                print("âŒ Ø±Ø§Ø¨Ø· Ø¯Ø¹ÙˆØ© - ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…")
            else:
                print(f"âœ… Username Ù…Ø³ØªØ®Ø±Ø¬: @{username}")
        else:
            print("âŒ Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ø³ØªØ®Ø±Ø§Ø¬ username Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·")
            
    else:
        print("âš ï¸ Ø§Ù„Ù†ÙˆØ¹: ØºÙŠØ± Ù…Ø­Ø¯Ø¯")
        # Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ username Ø¨Ø¯ÙˆÙ† @
        if re.match(r'^[a-zA-Z][a-zA-Z0-9_]{4,31}$', identifier):
            print(f"ğŸ’¡ Ù‚Ø¯ ÙŠÙƒÙˆÙ† username Ø¨Ø¯ÙˆÙ† @: {identifier}")
            print(f"   Ø¬Ø±Ø¨: @{identifier}")
        else:
            print("âŒ Ù…Ø¹Ø±Ù ØºÙŠØ± ØµØ§Ù„Ø­")


def suggest_solutions(error_message: str):
    """Ø§Ù‚ØªØ±Ø§Ø­ Ø­Ù„ÙˆÙ„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£"""
    print("\nğŸ’¡ Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:")
    print("-" * 40)
    
    if "Ù‚Ù†Ø§Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©" in error_message:
        print("1. ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ù…Ø¹Ø±Ù Ø§Ù„Ù‚Ù†Ø§Ø© (Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡)")
        print("2. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù‚Ù†Ø§Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© ÙˆÙ„ÙŠØ³Øª Ù…Ø­Ø°ÙˆÙØ©")
        print("3. Ø¬Ø±Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ø±Ù Ø§Ù„Ù‚Ù†Ø§Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠ (Channel ID)")
        print("4. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù‚Ù†Ø§Ø© Ø¹Ø§Ù…Ø© Ø£Ùˆ Ø£Ù† Ø§Ù„Ø¨ÙˆØª Ø¹Ø¶Ùˆ ÙÙŠÙ‡Ø§")
        
    elif "Ø§Ù„Ø¨ÙˆØª Ù„ÙŠØ³ Ù…Ø´Ø±ÙØ§Ù‹" in error_message:
        print("1. Ø§ÙØªØ­ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù‚Ù†Ø§Ø©")
        print("2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ù‚Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†")
        print("3. Ø£Ø¶Ù Ø§Ù„Ø¨ÙˆØª ÙƒÙ…Ø´Ø±Ù")
        print("4. Ø§Ù…Ù†Ø­ Ø§Ù„Ø¨ÙˆØª Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©")
        
    elif "Ø§Ù„Ø¨ÙˆØª Ù„ÙŠØ³ Ø¹Ø¶ÙˆØ§Ù‹" in error_message:
        print("1. Ø£Ø¶Ù Ø§Ù„Ø¨ÙˆØª Ù„Ù„Ù‚Ù†Ø§Ø© Ø£ÙˆÙ„Ø§Ù‹")
        print("2. Ø«Ù… Ø§Ø¬Ø¹Ù„Ù‡ Ù…Ø´Ø±ÙØ§Ù‹")
        
    else:
        print("1. ØªØ­Ù‚Ù‚ Ù…Ù† Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØ«Ø±")
        print("2. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ ØµØ­ÙŠØ­Ø©")
        print("3. Ø¬Ø±Ø¨ Ù…Ø¹ Ù‚Ù†Ø§Ø© Ø§Ø®ØªØ¨Ø§Ø±ÙŠØ© Ø£Ø®Ø±Ù‰")


def check_bot_requirements():
    """Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø¨ÙˆØª"""
    print("\nâœ… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ù‚Ù‚:")
    print("-" * 40)
    
    requirements = [
        "Ø§Ù„Ø¨ÙˆØª ÙŠØ¹Ù…Ù„ ÙˆÙŠØ³ØªØ¬ÙŠØ¨ Ù„Ù„Ø£ÙˆØ§Ù…Ø±",
        "Ø§Ù„Ù‚Ù†Ø§Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© ÙˆÙ„ÙŠØ³Øª Ù…Ø­Ø°ÙˆÙØ©",
        "Ù…Ø¹Ø±Ù Ø§Ù„Ù‚Ù†Ø§Ø© ØµØ­ÙŠØ­",
        "Ø§Ù„Ø¨ÙˆØª Ø¹Ø¶Ùˆ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø©",
        "Ø§Ù„Ø¨ÙˆØª Ù…Ø´Ø±Ù ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø©",
        "Ø§Ù„Ø¨ÙˆØª Ù„Ø¯ÙŠÙ‡ ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§ÙÙŠØ©",
        "Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ ØµØ­ÙŠØ­Ø© ÙÙŠ Ù…Ù„Ù .env",
        "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚ÙŠÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙˆØª Ù…Ù† Telegram"
    ]
    
    for i, req in enumerate(requirements, 1):
        print(f"{i}. [ ] {req}")


def main():
    """Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"""
    print("=" * 60)
    print("ğŸ”§ Ø£Ø¯Ø§Ø© ØªØ­Ù„ÙŠÙ„ Ù…Ø´ÙƒÙ„Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ù†ÙˆØ§Øª")
    print("=" * 60)
    
    # ØªØ­Ù„ÙŠÙ„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø£ØµÙ„ÙŠØ©
    error_message = "@test1ye - Ù‚Ù†Ø§Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©"
    channel_identifier = "@test1ye"
    
    print(f"\nğŸ“‹ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£: {error_message}")
    
    # ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø±Ù
    analyze_channel_identifier(channel_identifier)
    
    # Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ù„Ø­Ù„ÙˆÙ„
    suggest_solutions(error_message)
    
    # Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ù‚Ù‚
    check_bot_requirements()
    
    # Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
    print("\nğŸ“ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©:")
    print("-" * 40)
    supported_formats = [
        "@channel_username",
        "channel_username",
        "https://t.me/channel_username",
        "t.me/channel_username",
        "-1001234567890",
        "1234567890"
    ]
    
    for format_str in supported_formats:
        print(f"âœ… {format_str}")
    
    print("\nâŒ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©:")
    print("-" * 40)
    unsupported_formats = [
        "https://t.me/joinchat/XXXXX (Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ©)",
        "Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø© Ø¨Ø¯ÙˆÙ† username"
    ]
    
    for format_str in unsupported_formats:
        print(f"âŒ {format_str}")
    
    # Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©
    print("\nğŸš€ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:")
    print("-" * 40)
    print("1. ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ù‚Ù†Ø§Ø© @test1ye Ù…ÙˆØ¬ÙˆØ¯Ø© ÙØ¹Ù„Ø§Ù‹")
    print("2. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø¨ÙˆØª Ù…Ø¶Ø§Ù ÙƒÙ…Ø´Ø±Ù ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø©")
    print("3. Ø¬Ø±Ø¨ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ù†Ø§Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ø±ÙÙ‡Ø§ Ø§Ù„Ø±Ù‚Ù…ÙŠ")
    print("4. Ø±Ø§Ø¬Ø¹ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ (logs) Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØ«Ø±")
    print("5. Ø¬Ø±Ø¨ Ù…Ø¹ Ù‚Ù†Ø§Ø© Ø§Ø®ØªØ¨Ø§Ø±ÙŠØ© Ø£Ø®Ø±Ù‰ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…")
    
    print("\n" + "=" * 60)
    print("ğŸ“– Ù„Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ØŒ Ø±Ø§Ø¬Ø¹ Ù…Ù„Ù CHANNEL_ERROR_SOLUTION.md")
    print("=" * 60)


if __name__ == "__main__":
    main()